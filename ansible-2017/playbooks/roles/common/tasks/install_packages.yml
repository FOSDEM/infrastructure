---
- name: "common: install packages"
  apt: pkg={{ item }} state=latest install_recommends=no
  with_items:
    - ack-grep
    - bash-completion
    - ca-certificates
    - file
    - git
    - htop
    - iftop
    - inotify-tools
    - iotop
    - less
    - lsof
    - ltrace
    - mediainfo
    - mosh
    - mtr-tiny
    - strace
    - tcpdump
    - vim

- name: "common: configure irqbalance"
  debconf:
    name: irqbalance
    question: irqbalance/oneshot
    value: true
    vtype: boolean
  when: kernel_package is defined

- name: "common: Upgrade kernel"
  apt: pkg={{ item }} state=latest install_recommends=no default_release=jessie-backports
  with_items:
    - "{{ kernel_package | default('') }}"
    - irqbalance
  when: kernel_package is defined

